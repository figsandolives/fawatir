<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ÙƒØ§Ø´ÙŠØ± Ø§Ù„ØªÙŠÙ† ÙˆØ§Ù„Ø²ÙŠØªÙˆÙ†</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        body { background-color: #f3f4f6; font-family: sans-serif; }
        .product-card { cursor: pointer; transition: 0.2s; border: 1px solid #e5e7eb; }
        .product-card:hover { transform: translateY(-2px); box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .hidden { display: none; }
        @media print { .no-print { display: none; } #receipt { display: block !important; } }
        #receipt { display: none; }
    </style>
</head>
<body class="min-h-screen">

    <div class="no-print p-6">
        <div class="flex justify-between items-center mb-6 bg-white p-4 rounded-xl shadow-sm">
            <div class="flex gap-4">
                <button onclick="openNewInvoice()" class="bg-green-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-green-700">
                    + ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©
                </button>
                <button class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">
                    Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…ÙØªÙˆØ­Ø©
                </button>
            </div>
            <div class="text-xl font-bold text-gray-700">Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ§Ø´ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ</div>
        </div>

        <div class="grid grid-cols-12 gap-6">
            <div class="col-span-8 bg-white p-6 rounded-xl shadow-sm min-h-[600px]">
                <div class="flex gap-2 mb-6">
                    <input type="text" placeholder="Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." class="w-full p-3 border rounded-xl outline-none focus:ring-2 focus:ring-blue-500">
                    <button class="bg-gray-100 px-4 rounded-xl">ğŸ”</button>
                </div>
                
                <div id="items-grid" class="grid grid-cols-4 gap-4">
                    <div class="product-card bg-gray-50 p-4 rounded-xl text-center font-bold">Ø§Ù„Ù…Ø®Ø¨ÙˆØ²Ø§Øª</div>
                    <div class="product-card bg-gray-50 p-4 rounded-xl text-center font-bold">Ø§Ù„Ù…Ù‚Ø¨Ù„Ø§Øª</div>
                </div>
            </div>

            <div class="col-span-4 bg-gray-800 text-white p-6 rounded-xl shadow-xl flex flex-col">
                <h3 class="text-xl font-bold mb-4 border-b border-gray-700 pb-2">Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ</h3>
                <div id="cart-items" class="flex-1 space-y-4 overflow-y-auto">
                    <p class="text-center text-gray-500 mt-10">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ØµÙ†Ø§Ù Ù…Ø¶Ø§ÙØ©</p>
                </div>
                
                <div class="mt-6 pt-4 border-t border-gray-700">
                    <div class="flex justify-between text-lg mb-4">
                        <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                        <span id="total-price" class="font-bold text-green-400">0.000 Ø¯.Ùƒ</span>
                    </div>
                    <button id="next-btn" disabled class="w-full py-4 bg-gray-600 rounded-xl font-bold text-lg cursor-not-allowed">
                        Ø§Ù„ØªØ§Ù„ÙŠ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="invoice-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
        <div class="bg-white w-full h-full p-10 overflow-y-auto relative">
            <button onclick="closeInvoice()" class="absolute top-5 left-5 text-3xl font-bold text-red-600">âœ•</button>
            <h2 class="text-3xl font-bold mb-8 text-center">ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</h2>
            </div>
    </div>

    <div id="receipt" class="p-10 text-black bg-white">
        <div class="flex justify-between items-center mb-6">
            <div class="text-right">
                <h2 class="font-bold text-xl">Ù…Ø®Ø¨Ø² Ø§Ù„ØªÙŠÙ† ÙˆØ§Ù„Ø²ÙŠØªÙˆÙ†</h2>
                <p class="text-sm">â˜ï¸ 22085889</p>
            </div>
            <div class="text-center font-bold text-2xl">ÙØ§ØªÙˆØ±Ø© Ø¨ÙŠØ¹</div>
            <div class="text-left">
                <h2 class="font-bold text-xl">Ù…Ø·Ø¹Ù… Ø§Ù„ØªÙŠÙ† Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ</h2>
                <p class="text-sm">â˜ï¸ 22085886</p>
            </div>
        </div>
        <hr class="border-black mb-4">
        <div id="print-content"></div>
    </div>

    <script>
        // ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø¯ÙˆØ§Ù„ ÙÙŠ Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ø¹Ø§Ù… Ù„Ø¶Ù…Ø§Ù† Ø¹Ù…Ù„Ù‡Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        function openNewInvoice() {
            document.getElementById('invoice-modal').classList.remove('hidden');
            console.log("Invoice Opened");
        }

        function closeInvoice() {
            // Ø¹Ù†Ø¯ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ ÙŠØªÙ… Ø§Ù„Ø­ÙØ¸ ÙÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…ÙØªÙˆØ­Ø© ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª
            document.getElementById('invoice-modal').classList.add('hidden');
            alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…ÙØªÙˆØ­Ø©");
        }

        function fixNumbers(el) {
            const ar = [/Ù /g, /Ù¡/g, /Ù¢/g, /Ù£/g, /Ù¤/g, /Ù¥/g, /Ù¦/g, /Ù§/g, /Ù¨/g, /Ù©/g];
            for (let i = 0; i < 10; i++) el.value = el.value.replace(ar[i], i);
        }

        // Ù…Ù†Ø·Ù‚ ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ
        function updateCart() {
            const cartItems = document.getElementById('cart-items').children;
            const nextBtn = document.getElementById('next-btn');
            if(cartItems.length > 1) { // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø£ÙƒØ«Ø± Ù…Ù† Ø±Ø³Ø§Ù„Ø© "Ø§Ù„ÙØ§Ø±ØºØ©"
                nextBtn.disabled = false;
                nextBtn.classList.remove('bg-gray-600', 'cursor-not-allowed');
                nextBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
            }
        }
    </script>
</body>
</html>

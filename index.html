<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>نظام التين والزيتون</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap');
        body { font-family: 'Tajawal', sans-serif; transition: all 0.3s ease; }
        .ltr { direction: ltr !important; text-align: left !important; }
        .rtl { direction: rtl !important; text-align: right !important; }
    </style>
</head>
<body>
    <div id="root"></div>
    ```

### 2. التحديثات الجوهرية في `Cashier.js` (مرحلة اختيار العميل)
تمت إضافة الوظائف التالية:
* **بحث عن عميل:** بمجرد اختيار "توصيل" أو "استلام"، تظهر شاشة البحث عن العملاء بالرقم أو الاسم.
* **إضافة عميل/عنوان:** إذا لم يتوفر العميل، يمكن إضافة سجل جديد (اسم، هاتف، فتح خط 965، منطقة، عنوان مفصل).
* **تعدد العناوين:** يدعم الكود اختيار عنوان واحد من عدة عناوين مخزنة لنفس الزميل.

```jsx
// جزء من منطق اختيار العميل في Cashier.js
const CustomerSelection = ({ onSelect, onBack, orderType }) => {
    const [searchTerm, setSearchTerm] = React.useState('');
    const [customers, setCustomers] = React.useState([]);
    const [showAddModal, setShowAddModal] = React.useState(false);

    // إضافة عميل جديد
    const saveNewCustomer = async (data) => {
        const docRef = await db.collection("customers").add({
            name: data.name,
            phone: data.code + data.phone,
            addresses: [{ region: data.region, detail: data.addressDetail }],
            orderCount: 0
        });
        onSelect({ ...data, id: docRef.id });
    };

    return (
        <div className="p-8 bg-white rounded-[40px] shadow-2xl w-full max-w-4xl overflow-hidden">
            <h2 className="text-3xl font-black mb-6">اختيار العميل</h2>
            <div className="flex gap-4 mb-6">
                <input 
                    type="text" 
                    placeholder="ابحث بالرقم أو الاسم..." 
                    className="flex-1 p-4 border-2 rounded-2xl"
                    onChange={(e) => setSearchTerm(e.target.value)}
                />
                <button onClick={() => setShowAddModal(true)} className="bg-blue-600 text-white px-6 rounded-2xl font-bold">+ إضافة عميل</button>
            </div>
            {/* عرض قائمة العملاء المفلترة */}
            <div className="max-h-96 overflow-y-auto space-y-3">
                {/* Loop customers from Firebase */}
            </div>
        </div>
    );
};
